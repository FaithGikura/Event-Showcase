<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Dashboard - Event Showcase</title>
    <link rel="stylesheet" href="/css/style.css">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <header>
        <nav>
            <ul>
                <li><a href="/">Home</a></li>
                <li><a href="/admin">Admin Dashboard</a></li>
                <li><a href="/admin/new">Add New Event</a></li>
            </ul>
        </nav>
        <h1>Admin Dashboard</h1>
    </header>

    <div class="admin-container">
        <h2>Manage Events</h2>
        <% if (events.length === 0) { %>
            <p class="no-events">No events have been created yet.</p>
        <% } else { %>
            <table class="admin-table">
                <thead>
                    <tr>
                        <th>Image</th>
                        <th>Event Name</th>
                        <th>Date</th>
                        <th>Description</th>
                        <th>Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <% events.forEach(event => { %>
                        <tr>
                            <td>
                                <img src="<%= event.image_url %>" alt="<%= event.name %>" 
                                     style="width: 100px; height: 60px; object-fit: cover; border-radius: 4px;">
                            </td>
                            <td><%= event.name %></td>
                            <td><%= new Date(event.date).toLocaleDateString() %></td>
                            <td><%= event.description.substring(0, 100) %>...</td>
                            <td class="action-buttons">
                                <a href="/admin/edit/<%= event.id %>" class="edit-btn">Edit</a>
                                <a href="/admin/delete/<%= event.id %>" class="delete-btn" 
                                   onclick="return confirm('Are you sure you want to delete this event?')">Delete</a>
                            </td>
                        </tr>
                    <% }) %>
                </tbody>
            </table>
        <% } %>
    </div>

    <footer>
        <p>&copy; 2024 Event Showcase. All rights reserved.</p>
    </footer>
</body>
</html>